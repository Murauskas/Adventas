<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa’s Perfect Christmas Melon</title>
    <!--Devinta uzduotis-->
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1>Santa’s Christmas Melon Picker</h1>

    <label>Number of melons (n):</label>
    <input type="number" id="count" min="1" placeholder="Enter n">

    <label>Enter weights separated by spaces:</label>
    <input type="text" id="weights" placeholder="e.g. 4 3 7 8">

    <button onclick="findMelon()">Find Perfect Melon</button>

    <div id="result"></div>
</div>

<script>
function findMelon() {
    let n = parseInt(document.getElementById("count").value);
    let weightsInput = document.getElementById("weights").value.trim();

    if (isNaN(n) || n <= 0 || weightsInput === "") {
        document.getElementById("result").innerHTML =
            "<p class='error'>Please enter all values correctly!</p>";
        return;
    }

    // Convert weights to array
    let weights = weightsInput.split(" ").map(Number);

    if (weights.length !== n || weights.some(isNaN)) {
        document.getElementById("result").innerHTML =
            "<p class='error'>Number of weights does not match n!</p>";
        return;
    }

    // Calculate average
    let sum = weights.reduce((a, b) => a + b, 0);
    let avg = sum / n;

    // Find closest melon
    let closestIndex = 0;
    let closestDiff = Math.abs(weights[0] - avg);

    for (let i = 1; i < n; i++) {
        let diff = Math.abs(weights[i] - avg);
        if (diff < closestDiff) {
            closestDiff = diff;
            closestIndex = i;
        }
    }

    document.getElementById("result").innerHTML = `
        <p>Perfect melon number:</p>
        <h2>${closestIndex + 1} &nbsp;&nbsp; ${avg.toFixed(2)}</h2>
    `;
}
</script>

</body>
</html>
